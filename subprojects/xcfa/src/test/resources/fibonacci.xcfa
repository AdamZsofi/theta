main process mainProcess{

	main procedure mainProcedure(){
		init loc L0
		loc L1
		final loc L2
		var x : int

		L0 -> L1 {
			x := 5
		}

		L1 -> L2 {
			x := call fibonacci()
		}
	}

	int procedure fibonacci ( n : int ) {
	    var x : int
	    var y : int

	    var result : int

		init loc Li
		loc L0
		loc Ldef
		loc L1
		loc L2
		final loc L3

		Li -> L0 {
		    assume x >= 2
		}
		Li -> Ldef {
		    assume not (x >= 2)
		}
		Ldef -> L3 {
		    result := 0
		}
		L0 -> L1 {
		    x := n - 1
		    x := call fibonacci(x)
		}
		L1 -> L2 {
		    n := n - 2
		    y := call fibonacci(n)
		}
		L2 -> L3 {
		    result := x + y
		}
	}
}
